# Doodlify - Windsurf Rules

## Tech Stack
- **Language**: Python 3.x
- **CLI Framework**: argparse (stdlib) or click
- **Type hints**: Use Python type annotations
- **Testing**: pytest
- **Packaging**: pyproject.toml with setuptools

## Architecture Principles
- CLI-first design - single entry point
- Fail fast with clear error messages
- Use proper exit codes for CI/CD (0 = success, non-zero = failure)
- JSON output for machine parsing when needed
- Human-readable output by default

## Code Style

### Python
- Use type hints for all functions
- Follow PEP 8 conventions
- Prefer composition over inheritance
- Keep functions small and focused
- Use pathlib for file operations
- Handle exceptions explicitly

### CLI Design
- Clear command structure: `doodlify <command> [options]`
- Provide `--help` for all commands
- Use `--verbose` / `--quiet` flags for output control
- Support `--output json` for CI/CD integration
- Validate inputs early with clear error messages

### Exit Codes
- `0` - Success
- `1` - General error
- `2` - Invalid arguments
- `3` - File/resource not found
- `4` - Validation failure

## CI/CD Requirements
- Must be installable via pip
- Support environment variables for configuration
- Idempotent operations where possible
- No interactive prompts (use flags/env vars)
- Deterministic output for given inputs
- Fast execution (< 5s for typical operations)

## Error Handling
- Log errors to stderr
- Log normal output to stdout
- Use proper logging levels (DEBUG, INFO, WARNING, ERROR)
- Include actionable error messages
- Never swallow exceptions silently

## File Structure
```
doodlify/
├── pyproject.toml
├── README.md
├── src/
│   └── doodlify/
│       ├── __init__.py
│       ├── cli.py          # CLI entry point
│       ├── commands/       # Command implementations
│       └── utils/          # Helper functions
└── tests/
    └── test_*.py
```

## Testing
- Unit tests for all core functions
- Integration tests for CLI commands
- Use pytest fixtures
- Mock external dependencies
- Test exit codes explicitly
